<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Apuração Eleitoral • 1º Turno Municipal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
  --verde: #16a34a;
  --verde-escuro: #15803d;
  --azul: #0b4fa3;
  --azul-escuro: #0c3a7a;
  --ouro: #ffd700;
  --ouro-escuro: #cca300;
  --cinza-claro: #f8fafc;
  --cinza-medio: #e2e8f0;
  --cinza-escuro: #64748b;
  --branco: #ffffff;
  --preto: #111827;
  --bg: #f1f5f9;
  --card: #ffffff;
  --texto: #1e293b;
  --sombra: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --sombra-forte: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
  --borda: 1px solid #e2e8f0;
}

* {
  box-sizing: border-box;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  margin: 0;
  padding: 0;
}

body {
  background: var(--bg);
  color: var(--texto);
  line-height: 1.6;
  min-height: 100vh;
  overflow-x: hidden;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Header melhorado */
header {
  background: linear-gradient(135deg, var(--azul), var(--azul-escuro));
  color: var(--branco);
  padding: 28px 0;
  box-shadow: var(--sombra-forte);
  position: relative;
  overflow: hidden;
}

header::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--verde), var(--ouro), var(--verde));
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
}

.logo {
  display: flex;
  align-items: center;
  gap: 15px;
}

.logo-icon {
  font-size: 2.5rem;
  color: var(--ouro);
}

.logo-text h1 {
  font-size: 1.8rem;
  margin-bottom: 5px;
  font-weight: 800;
}

.logo-text p {
  font-size: 1rem;
  opacity: 0.9;
  font-weight: 400;
}

.header-controls {
  display: flex;
  align-items: center;
  gap: 15px;
}

.control-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.control-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

/* Main content */
main {
  padding: 30px 0;
}

/* Status section */
.status-container {
  background: var(--branco);
  border-radius: 16px;
  padding: 25px;
  box-shadow: var(--sombra);
  margin-bottom: 30px;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
  border: var(--borda);
}

.status-content {
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
}

.status {
  display: flex;
  align-items: center;
  gap: 12px;
}

.status-indicator {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--verde);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(22, 163, 74, 0); }
  100% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0); }
}

.status-text {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--azul);
}

.sessao {
  font-size: 1.1rem;
  color: var(--cinza-escuro);
  font-weight: 500;
}

.countdown-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: var(--cinza-claro);
  padding: 15px 25px;
  border-radius: 12px;
  min-width: 150px;
}

.countdown-label {
  font-size: 0.9rem;
  color: var(--cinza-escuro);
  margin-bottom: 5px;
  font-weight: 500;
}

.countdown {
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--verde);
  line-height: 1;
}

.progress-summary {
  display: flex;
  justify-content: space-between;
  width: 100%;
  margin-top: 15px;
  padding-top: 15px;
  border-top: var(--borda);
}

.progress-item {
  text-align: center;
  flex: 1;
}

.progress-value {
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--azul);
}

.progress-label {
  font-size: 0.9rem;
  color: var(--cinza-escuro);
}

/* Grid layout */
.grid {
  display: grid;
  gap: 30px;
}

@media (min-width: 992px) {
  .grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* Painéis */
.painel {
  background: var(--card);
  border-radius: 20px;
  padding: 25px;
  box-shadow: var(--sombra);
  position: relative;
  overflow: hidden;
  border: var(--borda);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.painel:hover {
  transform: translateY(-5px);
  box-shadow: var(--sombra-forte);
}

.painel.flash::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, rgba(255, 215, 0, 0.3), transparent 70%);
  animation: flash 0.8s ease-out;
  pointer-events: none;
}

@keyframes flash {
  from { opacity: 1; }
  to { opacity: 0; }
}

.painel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.painel-header h2 {
  font-size: 1.6rem;
  color: var(--azul);
  font-weight: 800;
  margin: 0;
}

.painel-badge {
  background: var(--azul);
  color: white;
  padding: 5px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;
}

.painel-progress {
  margin-bottom: 25px;
}

.progress-info {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  font-size: 0.95rem;
  color: var(--cinza-escuro);
}

.progress-bar {
  height: 14px;
  background: var(--cinza-medio);
  border-radius: 10px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--verde), var(--azul));
  border-radius: 10px;
  transition: width 0.8s ease;
  position: relative;
}

.progress-fill::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Cards de candidatos */
.candidatos-container {
  max-height: 500px;
  overflow-y: auto;
  padding-right: 10px;
}

.candidatos-container::-webkit-scrollbar {
  width: 8px;
}

.candidatos-container::-webkit-scrollbar-track {
  background: var(--cinza-claro);
  border-radius: 4px;
}

.candidatos-container::-webkit-scrollbar-thumb {
  background: var(--cinza-escuro);
  border-radius: 4px;
}

.card {
  background: var(--cinza-claro);
  border-radius: 14px;
  padding: 18px;
  margin-bottom: 15px;
  border-left: 5px solid transparent;
  transition: all 0.3s ease;
  position: relative;
}

.card:hover {
  transform: translateX(5px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
}

.card.lider {
  border-color: var(--verde);
  background: linear-gradient(to right, #ecfdf5, #f0fdf9);
  animation: pulse-lider 2s ease-in-out infinite;
}

@keyframes pulse-lider {
  0% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0.4); }
  70% { box-shadow: 0 0 0 8px rgba(22, 163, 74, 0); }
  100% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0); }
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
}

  /* Adicione ao final da seção de CSS: */
.eleito-badge {
  display: inline-block;
  background: var(--verde);
  color: white;
  font-size: 0.7rem;
  padding: 3px 8px;
  border-radius: 12px;
  margin-left: 10px;
  font-weight: 600;
}

.card.eleito {
  border-left-color: var(--ouro);
  background: linear-gradient(to right, #fefce8, #fef9c3);
}

.card.eleito.lider {
  background: linear-gradient(to right, #ecfdf5, #fef9c3);
}

.nome {
  font-weight: 700;
  font-size: 1.2rem;
  color: var(--preto);
  margin-right: 10px;
}

.numero {
  background: var(--azul);
  color: white;
  padding: 3px 12px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 700;
  min-width: 60px;
  text-align: center;
}

.barra-pct {
  height: 10px;
  background: var(--cinza-medio);
  border-radius: 6px;
  overflow: hidden;
  margin: 12px 0;
}

.barra-pct span {
  display: block;
  height: 100%;
  background: linear-gradient(90deg, var(--verde), var(--azul));
  border-radius: 6px;
  transition: width 0.8s ease;
}

.card-info {
  display: flex;
  justify-content: space-between;
  font-weight: 600;
  font-size: 0.95rem;
}

.votos {
  color: var(--azul);
}

.percentual {
  color: var(--verde-escuro);
}

/* Footer */
footer {
  background: var(--azul-escuro);
  color: white;
  padding: 25px 0;
  margin-top: 40px;
  text-align: center;
}

.footer-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}

.footer-logo {
  font-size: 1.5rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 10px;
}

.footer-text {
  opacity: 0.8;
  font-size: 0.95rem;
  max-width: 800px;
  line-height: 1.6;
}

/* Modal de informações */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: 1000;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.modal-content {
  background: white;
  border-radius: 16px;
  padding: 30px;
  max-width: 600px;
  width: 100%;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.modal-header h3 {
  font-size: 1.5rem;
  color: var(--azul);
}

.close-modal {
  background: none;
  border: none;
  font-size: 1.8rem;
  color: var(--cinza-escuro);
  cursor: pointer;
  line-height: 1;
}

.modal-body {
  line-height: 1.6;
}

/* Responsividade */
@media (max-width: 768px) {
  .header-content {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
  
  .status-container {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .countdown-container {
    align-self: stretch;
    align-items: center;
  }
  
  .progress-summary {
    flex-direction: column;
    gap: 15px;
  }
  
  .card-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
  
  .numero {
    align-self: flex-start;
  }
}

/* Animações extras */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.painel {
  animation: fadeIn 0.5s ease-out;
}

.card {
  animation: fadeIn 0.6s ease-out;
}
</style>
</head>

<body>
<header>
  <div class="container header-content">
    <div class="logo">
      <div class="logo-icon">
        <i class="fas fa-vote-yea"></i>
      </div>
      <div class="logo-text">
        <h1>Tribunal Eleitoral Municipal</h1>
        <p>1º Turno • Apuração Oficial</p>
      </div>
    </div>
    
    <div class="header-controls">
      <button class="control-btn" id="btnPause">
        <i class="fas fa-pause"></i> Pausar
      </button>
      <button class="control-btn" id="btnInfo">
        <i class="fas fa-info-circle"></i> Informações
      </button>
    </div>
  </div>
</header>

<main class="container">
  <div class="status-container">
    <div class="status-content">
      <div class="status">
        <div class="status-indicator"></div>
        <div class="status-text" id="status">Apuração em andamento</div>
      </div>
      <div class="sessao" id="sessao">Sessão 1 de 50</div>
    </div>
    
    <div class="countdown-container">
      <div class="countdown-label">Próxima atualização</div>
      <div class="countdown" id="countdown">5</div>
    </div>
    
    <div class="progress-summary">
      <div class="progress-item">
        <div class="progress-value" id="totalUrnas">1%</div>
        <div class="progress-label">Urnas apuradas</div>
      </div>
      <div class="progress-item">
        <div class="progress-value" id="totalVotos">6,802</div>
        <div class="progress-label">Total de votos</div>
      </div>
      <div class="progress-item">
        <div class="progress-value" id="horaAtual">00:00</div>
        <div class="progress-label">Horário da apuração</div>
      </div>
    </div>
  </div>

  <div class="grid">
    <div class="painel" id="painelPref">
      <div class="painel-header">
        <h2><i class="fas fa-landmark"></i> PREFEITO</h2>
        <div class="painel-badge">8 Candidatos</div>
      </div>
      
      <div class="painel-progress">
        <div class="progress-info">
          <span>Progresso da apuração</span>
          <span id="progressPrefText">2%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="barPref"></div>
        </div>
      </div>
      
      <div class="candidatos-container" id="cardsPref"></div>
    </div>

    <div class="painel" id="painelVer">
      <div class="painel-header">
        <h2><i class="fas fa-user-friends"></i> VEREADOR</h2>
        <div class="painel-badge">9 Candidatos • 5 eleitos</div>
      </div>
      
      <div class="painel-progress">
        <div class="progress-info">
          <span>Progresso da apuração</span>
          <span id="progressVerText">2%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="barVer"></div>
        </div>
      </div>
      
      <div class="candidatos-container" id="cardsVer"></div>
    </div>
  </div>
</main>

<footer>
  <div class="container footer-content">
    <div class="footer-logo">
      <i class="fas fa-shield-alt"></i>
      <span>Sistema Seguro de Apuração</span>
    </div>
    <div class="footer-text">
      Esta é uma simulação de apuração eleitoral. Os dados são fictícios e servem apenas para demonstração.
      Atualizações automáticas a cada 5 segundos. Última atualização: <span id="lastUpdate">--:--:--</span>
    </div>
  </div>
</footer>

<!-- Modal de informações -->
<div class="modal" id="infoModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3><i class="fas fa-info-circle"></i> Sobre esta Apuração</h3>
      <button class="close-modal" id="closeModal">&times;</button>
    </div>
    <div class="modal-body">
      <p>Esta é uma simulação interativa de apuração eleitoral para o 1º turno das eleições municipais.</p>
      
      <h4>Como funciona:</h4>
      <ul>
        <li>A apuração simula a contagem de votos de 50 seções eleitorais</li>
        <li>Cada atualização representa o processamento de uma nova seção</li>
        <li>Os candidatos em liderança recebem destaque visual</li>
        <li>O sistema simula pesos diferentes para cada região da cidade</li>
      </ul>
      
      <h4>Controles:</h4>
      <ul>
        <li><strong>Pausar/Continuar</strong>: Interrompe ou retoma a apuração</li>
        <li><strong>Informações</strong>: Exibe esta janela com detalhes do sistema</li>
      </ul>
      
      <p>Os dados apresentados são fictícios e servem apenas para fins de demonstração do sistema de apuração.</p>
    </div>
  </div>
</div>

<script>
// Dados iniciais
const TOTAL_SESSOES = 50;
let sessaoAtual = 1;
let countdown = 5;
let apuracaoAtiva = true;
let intervalId = null;
let startTime = new Date();

const prefeitos = [
  {nome: "Rodrigo Manga", numero: 28, votos: 4000},
  {nome: "Ryan Everton", numero: 22, votos: 1684},
  {nome: "Arthur Silva", numero: 17, votos: 632},
  {nome: "Gabriel Arraes", numero: 77, votos: 491},
  {nome: "Javier Mendonza", numero: 35, votos: 421},
  {nome: "Noah D.", numero: 10, votos: 351},
  {nome: "Henrique Martins", numero: 15, votos: 210},
  {nome: "Fernando Hauss", numero: 43, votos: 211}
];

// Substitua a constante vereadores atual por:
const vereadores = [
  {nome: "Arthur Albuquerque", numero: 38038, votos: 1924},
  {nome: "Nicollas Camargo", numero: 77400, votos: 1519},
  {nome: "Vitor Henrique", numero: 22222, votos: 1215},
  {nome: "Marcos Fernandes", numero: 50555, votos: 810},
  {nome: "Henry Farias", numero: 77778, votos: 709},
  {nome: "Lucas Junior", numero: 27000, votos: 608},
  {nome: "Michael Nonato", numero: 45555, votos: 506},
  {nome: "Thaise Gomes", numero: 11111, votos: 405},
  {nome: "Renato Santos", numero: 17000, votos: 304}
];

// Pesos para simulação de diferentes regiões
const pesos = Array.from({length: TOTAL_SESSOES}, (_, i) => {
  if (i < 10) return [0.3, 0.7];   // Zona Sul
  if (i < 25) return [0.75, 0.25]; // Zona Norte
  if (i < 40) return [0.2, 0.8];   // Zona Leste
  return [0.8, 0.2];               // Zona Oeste
});

// Inicializar
function init() {
  updateDisplay();
  startCountdown();
  updateTime();
  setInterval(updateTime, 1000);
}

// Atualizar o relógio
function updateTime() {
  const now = new Date();
  const hora = now.getHours().toString().padStart(2, '0');
  const minuto = now.getMinutes().toString().padStart(2, '0');
  const segundo = now.getSeconds().toString().padStart(2, '0');
  
  document.getElementById('horaAtual').textContent = `${hora}:${minuto}`;
  document.getElementById('lastUpdate').textContent = `${hora}:${minuto}:${segundo}`;
}

// Iniciar contagem regressiva
function startCountdown() {
  clearInterval(intervalId);
  
  intervalId = setInterval(() => {
    if (!apuracaoAtiva) return;
    
    countdown--;
    document.getElementById('countdown').textContent = countdown;
    
    if (countdown === 0) {
      if (sessaoAtual < TOTAL_SESSOES) {
        sessaoAtual++;
        updateDisplay();
      } else {
        finalizarApuracao();
      }
      countdown = 5;
    }
  }, 1000);
}

// Atualizar toda a exibição
// Substitua a função updateDisplay atual por:
function updateDisplay() {
  atualizarPainel(prefeitos, "cardsPref", "barPref", "painelPref", "progressPrefText", "prefeito");
  atualizarPainel(vereadores, "cardsVer", "barVer", "painelVer", "progressVerText", "vereador");
  
  // Atualizar informações gerais
  document.getElementById('sessao').textContent = `Sessão ${sessaoAtual} de ${TOTAL_SESSOES}`;
  document.getElementById('totalUrnas').textContent = `${Math.round((sessaoAtual / TOTAL_SESSOES) * 100)}%`;
  
  // Calcular total de votos
  const totalVotosPref = calcularTotalVotos(prefeitos, sessaoAtual);
  const totalVotosVer = calcularTotalVotos(vereadores, sessaoAtual);
  const totalVotos = totalVotosPref + totalVotosVer;
  document.getElementById('totalVotos').textContent = totalVotos.toLocaleString();
  
  // Alterar status se for a última sessão
  if (sessaoAtual === TOTAL_SESSOES) {
    document.getElementById('status').textContent = "Última sessão sendo apurada";
  }
}

// Calcular total de votos para um cargo
function calcularTotalVotos(candidatos, sessao) {
  return candidatos.reduce((total, candidato, index) => {
    const peso = pesos[sessao - 1][index < 2 ? 0 : 1];
    const votosParciais = Math.min(candidato.votos, Math.round(candidato.votos * (sessao / TOTAL_SESSOES) * peso * 2));
    return total + votosParciais;
  }, 0);
}

// Atualizar um painel específico
// Substitua a função atualizarPainel atual por:
function atualizarPainel(listaCandidatos, idCards, idBarra, idPainel, idProgressText, cargo) {
  const totalSessao = calcularTotalVotos(listaCandidatos, sessaoAtual);
  const percentualProgresso = (sessaoAtual / TOTAL_SESSOES) * 100;
  
  // Ordenar candidatos por votos
  const candidatosOrdenados = listaCandidatos.map((candidato, index) => {
    const peso = pesos[sessaoAtual - 1][index < 2 ? 0 : 1];
    const votosParciais = Math.min(candidato.votos, Math.round(candidato.votos * (sessaoAtual / TOTAL_SESSOES) * peso * 2));
    const percentual = totalSessao > 0 ? (votosParciais / totalSessao) * 100 : 0;
    
    return {
      ...candidato,
      votosParciais,
      percentual
    };
  }).sort((a, b) => b.votosParciais - a.votosParciais);
  
  // Determinar líder
  const maiorVotos = Math.max(...candidatosOrdenados.map(c => c.votosParciais));
  
  // Para vereadores, destacar os 5 primeiros como eleitos
  const eleitos = cargo === 'vereador' ? 5 : 1;
  
  // Atualizar HTML dos cards
  const cardsHTML = candidatosOrdenados.map((candidato, index) => {
    const isLider = candidato.votosParciais === maiorVotos && maiorVotos > 0;
    const isEleito = index < eleitos && cargo === 'vereador';
    
    let classeCard = 'card';
    if (isLider) classeCard += ' lider';
    if (isEleito) classeCard += ' eleito';
    
    // Adicionar badge para os 5 primeiros (eleitos)
    const eleitoBadge = isEleito ? '<div class="eleito-badge"><i class="fas fa-check-circle"></i> ELEITO</div>' : '';
    
    return `
      <div class="${classeCard}">
        <div class="card-header">
          <div class="nome">${candidato.nome} ${eleitoBadge}</div>
          <div class="numero">${candidato.numero}</div>
        </div>
        <div class="barra-pct">
          <span style="width: ${candidato.percentual}%"></span>
        </div>
        <div class="card-info">
          <span class="votos"><i class="fas fa-vote-yea"></i> ${candidato.votosParciais.toLocaleString()} votos</span>
          <span class="percentual">${candidato.percentual.toFixed(2)}%</span>
        </div>
      </div>
    `;
  }).join('');
  
  document.getElementById(idCards).innerHTML = cardsHTML;
  document.getElementById(idBarra).style.width = `${percentualProgresso}%`;
  document.getElementById(idProgressText).textContent = `${percentualProgresso.toFixed(0)}%`;
  
  // Efeito de flash
  const painelElement = document.getElementById(idPainel);
  painelElement.classList.add('flash');
  setTimeout(() => painelElement.classList.remove('flash'), 800);
}

// Finalizar a apuração
function finaliz// Adicione esta função separada e chame-a quando a apuração estiver completa:
function marcarEleitos() {
  if (sessaoAtual === TOTAL_SESSOES) {
    const cardsVereadores = document.querySelectorAll('#cardsVer .card');
    cardsVereadores.forEach((card, index) => {
      if (index < 5) {
        card.classList.add('eleito');
        setTimeout(() => {
          card.style.transform = 'scale(1.03)';
          setTimeout(() => {
            card.style.transform = 'scale(1)';
          }, 300);
        }, index * 200);
      }
    });
  }
}

// Chame esta função no final da função finalizarApuracao:
function finalizarApuracao() {
  apuracaoAtiva = false;
  document.getElementById('status').textContent = "APURAÇÃO ENCERRADA - RESULTADO OFICIAL";
  document.getElementById('status').style.color = "#dc2626";
  document.querySelector('.status-indicator').style.backgroundColor = "#dc2626";
  document.querySelector('.status-indicator').style.animation = "none";
  
  // Atualizar com resultados finais
  sessaoAtual = TOTAL_SESSOES;
  updateDisplay();
  
  // Marcar os vereadores eleitos com animação
  setTimeout(marcarEleitos, 500);
  
  // Mostrar mensagem final
  setTimeout(() => {
    alert("Apuração concluída! Todos os votos foram contabilizados e o resultado final está disponível.");
  }, 1500);
}


// ControlesmentById('btnPause').addEventListener('click', function() {
  apuracaoAtiva = !apuracaoAtiva;
  
  if (apuracaoAtiva) {
    this.innerHTML = '<i class="fas fa-pause"></i> Pausar';
    document.getElementById('status').textContent = "Apuração em andamento";
    startCountdown();
  } else {
    this.innerHTML = '<i class="fas fa-play"></i> Continuar';
    document.getElementById('status').textContent = "Apuração pausada";
    clearInterval(intervalId);
  }
});

// Modal de informações
const infoModal = document.getElementById('infoModal');
const btnInfo = document.getElementById('btnInfo');
const closeModal = document.getElementById('closeModal');

btnInfo.addEventListener('click', () => {
  infoModal.style.display = 'flex';
});

closeModal.addEventListener('click', () => {
  infoModal.style.display = 'none';
});

// Fechar modal clicando fora
window.addEventListener('click', (event) => {
  if (event.target === infoModal) {
    infoModal.style.display = 'none';
  }
});

// Inicializar a aplicação
window.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
